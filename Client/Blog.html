<html>
	<head>
		<meta charset="utf-8" />
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	  	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	  	<link rel="stylesheet" type="text/css" href="style.css">
	  	<title>Blog</title>
	</head>
	<script>
	//$("#postForm").on("submit",function(data){
	// 	$.ajax
	// 	({
	// 	  type: "POST",
	// 	  url: "info3103.cs.unb.ca:1319/blog",
	// 	  dataType: 'json',
	// 	  contentType: 'application/json'
	// 	  headers: {
	// 	    "Authorization": "Basic " + btoa("bmoore1" + ":" + "password")
	// 	  },
	// 	  data: '{ "content": "This is a client attempt","title": "Hopefully this works","username": "bmoore1"}',
	// 	  success: function (){
	// 	    alert('Thanks for your comment!'); 
	// 	  }
	// 	});
	// });
		
		function buttonPush(){
		$.ajax
			({
				type: "POST",
			  url: "http://info3103.cs.unb.ca:1319/blog",
			  beforeSend: function(xhr) { 
      			xhr.setRequestHeader("Authorization", "Basic " + btoa("jtramley:password")); 
   			  },
			  dataType: 'json',
			  contentType: 'application/json',
			  processData: false,
			  xhrFields: {
			  	"Access-Control-Allow-Origin": "true"
			  },
			  data: '{ "content":"'+ $('#entryBody').val() + '","title": "' + $('#entryTitle').val() + '","username": "bmoore1"}',
			  success: function (){
			    alert('Thank you for your Blog entry'); 
			  }
			});

		} 

		function showForm(){
			$("#postForm").removeClass('hidden');
		}
		/*function buttonPush(){
			$.ajax
			({
			  type: "GET",
			  url: "http://info3103.cs.unb.ca:1319/blog/bmoore1/1",
			  dataType: 'json',
			  contentType: 'application/json',
			 
			  xhrFields: {
			  	"Access-Control-Allow-Origin": "true"
			  },
			  success: function (data){
			    $("#entryBody").val(JSON.stringify(data)); 
			    $
			  }
			});
		}*/
	
</script>

	<body>
		<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Info3103 Blog</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>

      <ul class="nav navbar-nav">
            <li>
                <p class="navbar-btn">
                    <a onclick="showForm()" class="btn btn-default">Show Form!</a>
                </p>
            </li>
        </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
		<div class="container col-md-4 col-md-offset-4 ">
		<form id="postForm" class="hidden">
		  <div class="form-group">
		    <label for="entryTitle">Title</label>
		    <input type="email" class="form-control" id="entryTitle" placeholder="Entry Title">
		  </div>
		  <div class="form-group">
		    <label for="entryBody">Entry</label>
		    <textarea class="form-control" id="entryBody" rows="6" placeholder="Fill in entry text..."></textarea>
		  </div>
		  <button type="submit" class="btn btn-default" onclick="buttonPush()">Submit</button>
		</form>
		</div>
	</body>
</html>